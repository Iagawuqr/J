-- Primeiro, carregue a lib Rayfield normalmente (já existe no seu source.txt)

local Rayfield = loadstring(readfile("source.txt"))() -- ou onde estiver a lib

-- Cria a janela principal
local Window = Rayfield:CreateWindow({
   Name = "Painel de Ferramentas",
   LoadingTitle = "Carregando...",
   LoadingSubtitle = "Teleport & Noclip",
   ConfigurationSaving = {
      Enabled = false
   }
})

-- Cria uma aba
local Tab = Window:CreateTab("Jogador", 4483362458) -- ícone opcional

-- Variáveis
local Players = game:GetService("Players")
local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

local savedPosition = nil
local noclipActive = false

-- Botão: Salvar Posição
Tab:CreateButton({
   Name = "Salvar Posição",
   Callback = function()
      character = player.Character or player.CharacterAdded:Wait()
      local hrp = character:FindFirstChild("HumanoidRootPart")
      if hrp then
         savedPosition = hrp.Position
         Rayfield:Notify({Title = "Posição Salva", Content = tostring(savedPosition)})
      end
   end
})

-- Botão: Teleportar
Tab:CreateButton({
   Name = "Teleportar",
   Callback = function()
      character = player.Character or player.CharacterAdded:Wait()
      local hrp = character:FindFirstChild("HumanoidRootPart")
      if hrp and savedPosition then
         hrp.CFrame = CFrame.new(savedPosition)
      end
   end
})

-- Toggle: Noclip
Tab:CreateToggle({
   Name = "Ativar Noclip",
   CurrentValue = false,
   Callback = function(Value)
      noclipActive = Value
   end
})

-- Loop para manter noclip
game:GetService("RunService").Stepped:Connect(function()
   if noclipActive then
      character = player.Character
      if character then
         for _, part in pairs(character:GetDescendants()) do
            if part:IsA("BasePart") then
               part.CanCollide = false
            end
         end
      end
   end
end)
