-- LocalScript

-- Cria a interface
local Players = game:GetService("Players")
local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

local savedPosition = nil
local noclipActive = false

-- Criar GUI
local screenGui = Instance.new("ScreenGui", player:WaitForChild("PlayerGui"))
screenGui.Name = "TeleportAndNoclipGUI"

local function createButton(name, position, text)
	local button = Instance.new("TextButton")
	button.Name = name
	button.Size = UDim2.new(0, 200, 0, 50)
	button.Position = position
	button.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
	button.TextColor3 = Color3.fromRGB(255, 255, 255)
	button.TextScaled = true
	button.Text = text
	button.Parent = screenGui
	return button
end

-- Botões
local savePosButton = createButton("SavePosButton", UDim2.new(0, 10, 0, 10), "Salvar Posição")
local teleportButton = createButton("TeleportButton", UDim2.new(0, 10, 0, 70), "Teleportar")
local noclipButton = createButton("NoclipButton", UDim2.new(0, 10, 0, 130), "Ativar Noclip")

-- Função para salvar posição
savePosButton.MouseButton1Click:Connect(function()
	character = player.Character or player.CharacterAdded:Wait()
	local humanoidRootPart = character:FindFirstChild("HumanoidRootPart")
	if humanoidRootPart then
		savedPosition = humanoidRootPart.Position
		print("Posição salva:", savedPosition)
	end
end)

-- Teleporte
teleportButton.MouseButton1Click:Connect(function()
	character = player.Character or player.CharacterAdded:Wait()
	local humanoidRootPart = character:FindFirstChild("HumanoidRootPart")
	if humanoidRootPart and savedPosition then
		humanoidRootPart.CFrame = CFrame.new(savedPosition)
	end
end)

-- Noclip toggle
noclipButton.MouseButton1Click:Connect(function()
	noclipActive = not noclipActive
	noclipButton.Text = noclipActive and "Desativar Noclip" or "Ativar Noclip"
end)

-- Loop para manter noclip ativado
game:GetService("RunService").Stepped:Connect(function()
	if noclipActive then
		character = player.Character
		if character then
			for _, part in pairs(character:GetDescendants()) do
				if part:IsA("BasePart") and part.CanCollide == true then
					part.CanCollide = false
				end
			end
		end
	end
end)
